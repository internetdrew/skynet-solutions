---
import { Image } from 'astro:assets';
import portal from '../assets/portal.webp';
import t800 from '../assets/t-800.webp';
import SellingPoints from './SellingPoints';
---

<section
  class='max-w-6xl mx-4 py-16 border-y grid grid-cols-1 gap-24 border-[#D1D9E6] md:mx-auto md:grid-cols-2 2xl:max-w-7xl'
>
  <div class='sticky top-32 h-fit'>
    <div
      class='flex items-center justify-center rounded-xl overflow-hidden max-h-[400px] relative glitch-container'
    >
      <Image
        src={portal}
        alt='The Skynet Solutions Portal'
        class='w-full h-full object-cover relative'
      />
      <Image
        src={t800}
        alt=''
        aria-hidden
        class='w-full h-full object-cover absolute top-0 left-0 glitch-image'
      />
    </div>
  </div>

  <div>
    <h2 class='text-3xl font-bold text-[#D1D9E6]'>
      We don’t just predict your business needs—we determine them.
    </h2>
    <SellingPoints client:visible />
  </div>
</section>

<style>
  @media (prefers-reduced-motion: reduce) {
    .glitch-image {
      display: none;
    }
  }

  .glitch-image {
    opacity: 0;
    mix-blend-mode: hard-light;
    animation: glitch 10s infinite;
  }

  @media (prefers-reduced-motion: no-preference) {
    @keyframes glitch {
      0%,
      100% {
        opacity: 0;
        transform: translateX(0);
      }
      92% {
        opacity: 0;
        transform: translateX(0);
      }
      92.2% {
        opacity: 1;
        transform: translateX(2px);
      }
      92.6% {
        opacity: 0;
        transform: translateX(-2px);
      }
      93% {
        opacity: 1;
        transform: translateX(0);
      }
      93.4% {
        opacity: 0;
        transform: translateX(2px);
      }
      94% {
        opacity: 1;
        transform: translateX(-2px);
      }
      94.4% {
        opacity: 0;
        transform: translateX(1px);
      }
      95% {
        opacity: 1;
        transform: translateX(-1px);
      }
      95.4% {
        opacity: 0;
        transform: translateX(0);
      }
      96% {
        opacity: 1;
        transform: translateX(1px);
      }
      97% {
        opacity: 0;
      }
    }
  }
</style>
